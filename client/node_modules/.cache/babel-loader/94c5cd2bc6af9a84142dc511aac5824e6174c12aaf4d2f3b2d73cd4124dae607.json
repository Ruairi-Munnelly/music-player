{"ast":null,"code":"var _jsxFileName = \"/Users/ruairimunnelly/React/music-player/src/components/PlayerSong.js\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlay, faAngleLeft, faAngleRight, faPause } from \"@fortawesome/free-solid-svg-icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Player = ({\n  currentSong,\n  setCurrentSong,\n  isPlaying,\n  setIsPlaying,\n  audioRef,\n  songInfo,\n  setSongInfo,\n  songs,\n  setSongs,\n  id\n}) => {\n  const activeLibraryHandler = nextPrev => {\n    const newSongs = songs.map(song => {\n      if (song.id === nextPrev.id) {\n        return {\n          ...song,\n          active: true\n        };\n      } else {\n        return {\n          ...song,\n          active: false\n        };\n      }\n    });\n    setSongs(newSongs);\n  };\n  const getTime = time => {\n    Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\n  };\n  const skipTrackHandler = async direction => {\n    let currentIndex = songs.findIndex(song => song.id === currentSong.id);\n    if (direction === \"skip-forward\") {\n      await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n      activeLibraryHandler(songs[(currentIndex + 1) % songs.length]);\n    }\n    if (direction === \"skip-back\") {\n      if ((currentIndex - 1) % songs.length === -1) {\n        await setCurrentSong(songs[songs.length - 1]);\n        activeLibraryHandler(songs[songs.length - 1]);\n        return;\n      }\n      await setCurrentSong(songs[(currentIndex - 1) % songs.length]);\n      activeLibraryHandler(songs[(currentIndex - 1) % songs.length]);\n    }\n    if (isPlaying) audioRef.current.play();\n  };\n  const trackAnim = {\n    transform: `translateX(${songInfo.animationPercentage}%)`\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"player\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"time-control\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: getTime(songInfo.currentTime)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: `linear-gradient(to-right, ${currentSong.color[1]})`\n        },\n        className: \"track\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          min: 0,\n          max: songInfo.duration || 0,\n          value: songInfo.currentTime,\n          onChange: dragHandler,\n          type: \"range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: trackAnim,\n          className: \"animate-track\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: songInfo.duration ? getTime(songInfo.duration) : \"00:00\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"play-control\",\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        onClick: () => skipTrackHandler('skip-back'),\n        size: \"2x\",\n        className: \"skip-back\",\n        icon: faAngleLeft\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_c = Player;\nexport default Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["FontAwesomeIcon","faPlay","faAngleLeft","faAngleRight","faPause","jsxDEV","_jsxDEV","Player","currentSong","setCurrentSong","isPlaying","setIsPlaying","audioRef","songInfo","setSongInfo","songs","setSongs","id","activeLibraryHandler","nextPrev","newSongs","map","song","active","getTime","time","Math","floor","slice","skipTrackHandler","direction","currentIndex","findIndex","length","current","play","trackAnim","transform","animationPercentage","className","children","currentTime","fileName","_jsxFileName","lineNumber","columnNumber","style","background","color","min","max","duration","value","onChange","dragHandler","type","onClick","size","icon","_c","$RefreshReg$"],"sources":["/Users/ruairimunnelly/React/music-player/src/components/PlayerSong.js"],"sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faPlay,\n  faAngleLeft,\n  faAngleRight,\n  faPause,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst Player = ({\n  currentSong,\n  setCurrentSong,\n  isPlaying,\n  setIsPlaying,\n  audioRef,\n  songInfo,\n  setSongInfo,\n  songs,\n  setSongs,\n  id,\n}) => {\n  const activeLibraryHandler = (nextPrev) => {\n    const newSongs = songs.map((song) => {\n      if (song.id === nextPrev.id) {\n        return {\n          ...song,\n          active: true,\n        };\n      } else {\n        return {\n          ...song,\n          active: false,\n        };\n      }\n    });\n    setSongs(newSongs);\n  };\n\n  const getTime = (time) => {\n    Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2);\n  };\n  const skipTrackHandler = async (direction) => {\n    let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\n    if (direction === \"skip-forward\") {\n      await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\n      activeLibraryHandler(songs[(currentIndex + 1) % songs.length]);\n    }\n\n    if (direction === \"skip-back\") {\n      if ((currentIndex - 1) % songs.length === -1) {\n        await setCurrentSong(songs[songs.length - 1]);\n        activeLibraryHandler(songs[songs.length - 1]);\n        return;\n      }\n      await setCurrentSong(songs[(currentIndex - 1) % songs.length]);\n      activeLibraryHandler(songs[(currentIndex - 1) % songs.length]);\n    }\n    if (isPlaying) audioRef.current.play();\n  };\n\n  const trackAnim = {\n    transform: `translateX(${songInfo.animationPercentage}%)`,\n  };\n\n  return (\n    <div className=\"player\">\n      <div className=\"time-control\">\n        <p>{getTime(songInfo.currentTime)}</p>\n        <div\n          style={{\n            background: `linear-gradient(to-right, ${currentSong.color[1]})`,\n          }}\n          className=\"track\"\n        >\n          <input\n            min={0}\n            max={songInfo.duration || 0}\n            value={songInfo.currentTime}\n            onChange={dragHandler}\n            type=\"range\"\n          />\n          <div style={trackAnim} className=\"animate-track\"></div>\n        </div>\n        <p>{songInfo.duration ? getTime(songInfo.duration) : \"00:00\"}</p>\n      </div>\n      <div className=\"play-control\">\n        <FontAwesomeIcon\n          onClick={() => skipTrackHandler('skip-back')}\n          size=\"2x\"\n          className=\"skip-back\"\n          icon={faAngleLeft}\n          />\n      </div>\n    </div>\n  );\n};\n\nexport default Player;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}